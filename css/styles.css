/* --- GLOBAL SETUP --- */
body {
    margin: 0;
    background-color: #111;
    overflow: hidden;
    height: 100vh;
    width: 100vw;
    font-family: 'Arial Black', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* --- RESPONSIVE HEADER --- */
header {
    position: fixed;
    top: 0; left: 0; width: 100%;
    z-index: 100;
    text-align: center;
    padding-top: 20px;
    pointer-events: none;
    transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
}

/* Rule: Hide header on short screens or if zoomed in */
@media (max-height: 500px) { header { transform: translateY(-150%); } }
body.zoom-mode header { transform: translateY(-150%); }

header nav {
    background: rgba(255, 255, 255, 0.9);
    display: inline-block;
    padding: 8px 20px;
    border-radius: 20px;
    pointer-events: auto;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}
header h1 { margin: 0 0 10px 0; font-size: 1.5rem; color: white; text-shadow: 0 2px 4px rgba(0,0,0,0.8); }
header a { color: #333; text-decoration: none; margin: 0 10px; font-size: 0.9rem; cursor: pointer; }

/* --- CAMERA & SCENE --- */
#camera-lens {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    background-color: #000;
}
#scene-layer {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%); /* Locks center */
    flex-shrink: 0;
}

/* --- MAIN IMAGE --- */
#lab-image {
    width: 100%; height: 100%; display: block;
    transform-origin: center center; 
    transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1); 
}

/* --- ZOOM STATES (OFFSET) --- */
#lab-image.zoom-monitor { transform-origin: 25% 40%; transform: scale(3); }
#lab-image.zoom-hardware { transform-origin: 100% 20%; transform: scale(3); }
#lab-image.zoom-music { transform-origin: 45% 48%; transform: scale(3); }

/* --- SCENE OVERLAYS --- */
.scene-overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s ease;
    z-index: 20;
    display: block; 
    
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}
.scene-overlay.active { opacity: 1; pointer-events: auto; }

/* Specific Scenes */
#scene-music {
    background-color: #111;
    background-image: url('../assets/img/headphones.png'); 
}
#scene-hardware { 
    background-color: #111;
    background-image: url('../assets/img/zoomedpi.png'); 
}
#scene-software { 
    background-color: #111;
    background-image: url('../assets/img/monitor.png');
}

/* Desktop Split Screen Logic */
@media (min-width: 900px) {
    #scene-music, #scene-hardware, #scene-software {
        background-position: left center;
        background-size: 60% auto; 
    }
}

/* SLIDE-IN PANEL (MOBILE: FULL SCREEN) */
.content-box {
    position: fixed; 
    
    /* MOBILE DEFAULT: COVER WHOLE SCREEN */
    top: 0; left: 0; right: 0; bottom: 0;
    
    width: 100%; 
    height: 100dvh; 
    max-width: none;
    
    background: rgba(0, 0, 0, 0.95); /* Nearly solid black */
    backdrop-filter: blur(15px);
    border: none;
    
    /* Padding */
    padding: 80px 40px 40px 40px; 
    box-sizing: border-box;
    text-align: left;
    color: white;
    z-index: 200; 
    
    /* Animation: Slide UP from bottom */
    transform: translateY(100%); 
    transition: transform 0.6s cubic-bezier(0.25, 1, 0.5, 1);
    transition-delay: 0.4s;
    overflow-y: auto; 
}
.scene-overlay.active .content-box { transform: translateY(0); }

/* DESKTOP OVERRIDE: RIGHT SIDEBAR (40% Width) */
@media (min-width: 900px) {
    .content-box {
        top: 0; bottom: 0; right: 0; left: auto;
        width: 40%; height: 100vh;
        
        background: #111; 
        border-left: 2px solid #333; 
        
        transform: translateX(100%); /* Slide from Right */
        
        display: flex;
        flex-direction: column;
        justify-content: center; 
    }
    .scene-overlay.active .content-box { transform: translateX(0); }
}

/* Typography */
.content-box h2 { margin-top: 0; font-size: 2rem; border-bottom: 2px solid #00d2ff; padding-bottom: 15px; margin-bottom: 20px; }
.content-box p { font-family: 'Arial', sans-serif; line-height: 1.6; color: #ddd; margin-bottom: 20px; }
.content-box a { display: inline-block; margin-top: 30px; padding: 15px 30px; background: #00d2ff; color: black; text-decoration: none; font-weight: bold; border-radius: 5px; text-transform: uppercase; }

/* BACK BUTTON */
.back-btn {
    position: fixed; bottom: 30px; left: 30px;
    padding: 12px 25px;
    background: white; border: 2px solid #333;
    cursor: pointer; font-weight: bold;
    border-radius: 30px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    z-index: 999; 
    
    opacity: 0; pointer-events: none;
    transition: opacity 0.3s ease;
}
body.zoom-mode .back-btn { opacity: 1; pointer-events: auto; }

/* SIMPLE RESUME BUTTON */
.resume-btn {
    display: flex !important;   /* Forces icon and text to sit in a row */
    align-items: center;        
    justify-content: center;    
    gap: 15px;                  
}

.resume-btn img {
    width: 30px;                /* Keeps the icon small and neat */
    height: auto;
    filter: brightness(0);      /* Optional: Turns icon black to match text */
}

/* HOTSPOTS */
#main-hotspots {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
}
.hotspot {
    position: absolute; width: 5%; aspect-ratio: 1 / 1;
    border-radius: 50%; background-color: rgba(222, 230, 13, 0.3); border: 2px solid white;
    cursor: pointer; transition: transform 0.2s ease, opacity 0.2s;
    z-index: 10; transform: translate(-50%, -50%);
    pointer-events: auto;
}
.hotspot:hover { transform: translate(-50%, -50%) scale(1.3); }
.hotspot.hidden { opacity: 0; pointer-events: none; }

/* MOBILE TWEAKS */
@media (max-width: 768px) {
    /* Make Header Smaller on Phones */
    header { padding-top: 10px; }
    header h1 { font-size: 1.1rem; margin-bottom: 5px; }
    header nav { padding: 5px 15px; font-size: 0.85rem; }

    /* Unlock Scrolling */
    #camera-lens {
        overflow-x: auto; 
        overflow-y: hidden;
        -webkit-overflow-scrolling: touch; 
        display: block; 
    }
    
    #scene-layer {
        position: relative; 
        top: 0; left: 0;
        transform: none; 
        height: 100%; 
    }

    .hotspot { width: 12%; background-color: rgba(222, 230, 13, 0.4); }
}